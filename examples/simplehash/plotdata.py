from matplotlib import pyplot as plt
import numpy as np
import scipy.optimize as opt
import math


# This is the function we are trying to fit to the data.
def func(x, a, b, c):
     return c * np.log( 10 + a * np.exp(b * x))

xdata = list(range(256))
xdata = list(map(lambda x: x / 256.0, xdata))
simplehash100000runs = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 2, 1, 4, 4, 4, 2, 6, 4, 2, 6, 9, 9, 8, 8, 15, 17, 13, 19, 28, 20, 30, 28, 30, 40, 43, 41, 56, 65, 84, 69, 101, 102, 131, 132, 148, 174, 168, 216, 220, 270, 294, 294, 340, 372, 379, 435, 485, 497, 554, 642, 706, 779, 823, 874, 999, 1011, 1187, 1302, 1344, 1487, 1625, 1678, 1845, 1978, 2148, 2354, 2518, 2807, 2895, 3160, 3441, 3615, 3808, 4189, 4466, 4585, 4875, 5284, 5740, 5993, 6413, 6707, 7183, 7503, 8042, 8433, 9117, 9675, 10183, 10408, 10719, 11758, 12200, 12760, 13594, 13366, 15096, 15223, 15758, 16704, 17820, 18191, 19521, 19310, 20728, 21639, 22520, 23138, 24731, 24229, 25969, 27394, 27298, 28868, 29927, 30983, 32163, 33107, 34285, 35132, 36675, 36616, 38702, 39489, 40714, 41205, 42938, 44206, 45449, 46082, 47224, 49208, 50440, 51044, 52803, 53692, 54614, 56124, 56492, 57891, 59679, 60367, 61616, 62909, 63992, 63804, 66779, 67685, 69051, 69778, 70781, 72152, 73372, 74812, 75633, 76615, 77779, 79016, 80511, 81608, 82549, 83922, 84913, 86231, 87305, 88416, 89538, 90625, 91873, 93073, 94269, 95360, 96539, 97653, 100000]
simplehash10000runs = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 3, 1, 0, 0, 3, 1, 2, 0, 0, 3, 0, 2, 2, 1, 3, 3, 6, 5, 3, 12, 7, 8, 13, 12, 13, 12, 16, 16, 19, 17, 15, 35, 22, 37, 44, 29, 36, 51, 40, 58, 61, 55, 65, 76, 79, 85, 94, 99, 120, 118, 150, 150, 170, 166, 181, 205, 198, 233, 243, 248, 284, 300, 340, 356, 420, 418, 433, 469, 499, 537, 527, 573, 667, 656, 713, 667, 798, 845, 911, 952, 1021, 1039, 1079, 1225, 1238, 1335, 1360, 1423, 1463, 1393, 1306, 1600, 1840, 1812, 1875, 2146, 1982, 2232, 2313, 2532, 2444, 2543, 2717, 2682, 2817, 2940, 3073, 3189, 3197, 3285, 3402, 3552, 3770, 3879, 3892, 3739, 4080, 4329, 4280, 4212, 4489, 4697, 4886, 4908, 4981, 5227, 5011, 5316, 5569, 5638, 5763, 5794, 5990, 6129, 6190, 6375, 6418, 6583, 6499, 6552, 6834, 7055, 7188, 7017, 7399, 7434, 7628, 7734, 7820, 7925, 8067, 8175, 8279, 8448, 8495, 8578, 8713, 8808, 8988, 9114, 9184, 9264, 9344, 9563, 9659, 9757, 10000]

simplehash100000runs = list(map(lambda x: x / max(simplehash100000runs), simplehash100000runs))

# Plot the actual data
plt.figure(figsize=(5,5))
plt.plot(xdata, simplehash100000runs);
plt.ylabel('Percent of final hash tainted')
plt.xlabel('Taint transmission probability ')
plt.title("Taint Transmission Through Sample Hash")
plt.show()


